    /**
     * popup solution:
     * 
    const popup = window.open("http://localhost:5000/api/auth/google", "Google Login", "width=500,height=600");    
    if (!popup || popup.closed || typeof popup.closed === "undefined") { // check if the popup was blocked
      console.error("Popup was blocked");
    }

    // open the Google login in a popup window
    const width = 500; // TODO: from config...
    const height = 600; // TODO: from config...
    const left = (window.innerWidth / 2) - (width / 2);
    const top = (window.innerHeight / 2) - (height / 2);
    window.open("http://localhost:5000/api/auth/google",
      "Google Login",
      `width=${width},height=${height},top=${top},left=${left}`
    );

    // listen for the postMessage event
    const receiveMessage = (event) => {
      if (event.origin !== "http://localhost:5000") return; // ensure this is from your server

      // // store the tokens in localStorage or state
      // const { user } = event.data;
      // localStorage.setItem("auth", { user });
      // now you can redirect or handle the authenticated state
      // console.log("Received logged user info:", user);
    };

    window.addEventListener("message", receiveMessage, false);

    And, on the server:

      app.get("/api/auth/googleCallback", passport.authenticate("google", { failureRedirect: "/" }), (req, res) => {
        // render an HTML page that sends data to the parent window and closes the popup
        res.send(`
          <html>
            <body>
              <script>
                window.opener.postMessage({ // send tokens to the parent window
                  user: "${req.user}"
                }, "*");
                window.close(); // close the popup
              </script>
            </body>
          </html>
        `);
      });